<head><title>Package: Expression-hook</title><link rel="stylesheet" type="text/css" href="default.css"
 />
</head><table><tr><td align="center" colspan=2><span style="font-size:250%;">Lisp-editor</span></td></tr><tr><td width=20% valign="top"><h3><a href="Intro.html#Intro">Intro</a></h3><h3><a href="GIL.html#GIL">General Interface Library/Language (Explanation)</a></h3><h3><a href="GIL-use.html#GIL-use">GIL from user perspective</a></h3><h3><a href="GIL-output.html#GIL-output">GIL output languages</a></h3><span style="color:gray;"><h4><u><b>Autodoc:</b></u></h4></span><h3><a href="DEFPACKAGE GENERIC.html#DEFPACKAGE GENERIC">Package: Generic</a></h3><h3><a href="DEFPACKAGE DENEST.html#DEFPACKAGE DENEST">Package: Denest</a></h3><h3><a href="DEFPACKAGE PACKAGE-STUFF.html#DEFPACKAGE PACKAGE-STUFF">Package: Package-stuff</a></h3><h3><a href="DEFPACKAGE EXPRESSION-HOOK.html#DEFPACKAGE EXPRESSION-HOOK">Package: Expression-hook</a></h3><h3><a href="DEFPACKAGE EXPRESSION-SCAN.html#DEFPACKAGE EXPRESSION-SCAN">Package: Expression-scan</a></h3><h3><a href="DEFPACKAGE AUTODOC-GIL.html#DEFPACKAGE AUTODOC-GIL">Package: Autodoc-gil</a></h3><h3><a href="DEFPACKAGE GIL.html#DEFPACKAGE GIL">Package: Gil</a></h3><h3><a href="DEFPACKAGE GIL-SHARE.html#DEFPACKAGE GIL-SHARE">Package: Gil-share</a></h3><h3><a href="DEFPACKAGE GIL-STYLE.html#DEFPACKAGE GIL-STYLE">Package: Gil-style</a></h3><h3><a href="DEFPACKAGE GIL-INFO.html#DEFPACKAGE GIL-INFO">Package: Gil-info</a></h3><h3><a href="DEFPACKAGE GIL-READ.html#DEFPACKAGE GIL-READ">Package: Gil-read</a></h3><h3><a href="DEFPACKAGE GIL-USER.html#DEFPACKAGE GIL-USER">Package: Gil-user</a></h3><h3><a href="DEFPACKAGE GIL-HTML.html#DEFPACKAGE GIL-HTML">Package: Gil-html</a></h3><hr>Hosted by<br><a href="http://developer.berlios.de/"><img src="http://developer.berlios.de/bslogo.php?group_id=0" ></a></td><td valign="top"><a name="DEFPACKAGE EXPRESSION-HOOK"><h1>Package: Expression-hook</h1></a><p>Macroexpands code purely by itself. *expression-hook* continues it,
and must call further expand-hook.
Used for gathering information on code autodoc via expression-scan.</p><p>Uses packages: Cl, <a href="DEFPACKAGE GENERIC.html#DEFPACKAGE GENERIC">Generic</a>, <a href="DEFPACKAGE DENEST.html#DEFPACKAGE DENEST">Denest</a>, <a href="DEFPACKAGE PACKAGE-STUFF.html#DEFPACKAGE PACKAGE-STUFF">Package-stuff</a></p><a name="_IN-FUNS_"><h2>variable *in-funs*</h2></a>Current functions. (Can be in multiple; like a defun and then a flet.<a name="_EH-VARS_"><h2>variable *eh-vars*</h2></a>List of variables that are from local let, let*.<a name="_EH-SYM-MACS_"><h2>variable *eh-sym-macs*</h2></a>List of symbol-macros.<a name="_EH-MACS_"><h2>variable *eh-macs*</h2></a>List of functions that are from local macrolet.<a name="_EH-FUNS_"><h2>variable *eh-funs*</h2></a>List of functions that are from local flet, labels.<a name="_BASE-MACROS_"><h2>variable *base-macros*</h2></a>Base macros, but can also override regular macros.(That case you have to
call expand again to continue.)
TODO possible warnings if you do<a name="_EXPRESSION-HOOK_"><h2>variable *expression-hook*</h2></a>Hook that reads every s-expression macroexpand-dammit encounters.<a name="DEFUN EXPAND-HOOK"><h2>defun expand-hook(form as-macrohook )</h2></a><p>The hook version of expand; expand works, only expanding, with this
expression hook. You have to call this with your expression hook and use
lexical binds to pass information down.</p><p></p><a name="DEFUN EXPAND"><h2>defun expand(form )</h2></a><p>Macroexpands form according to the macros and the 'base macros'
(which are intended to 'replace' special operators.)</p><p></p><a name="DEFMACRO DEF-BASE-MACRO"><h2>defmacro def-base-macro(name (args )&body body )</h2></a><p>Adds a base macro.</p><p></p></td></tr></table>