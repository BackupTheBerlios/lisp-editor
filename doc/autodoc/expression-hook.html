<?xml version="1.0" encoding="iso-8859-1" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><body><table><tbody><tr><td valign="top"><h2>External</h2><h3>Variables</h3><p><a href="expression-hook.html#defvar_*base-macros*">*base-macros*</a></p><p><a href="expression-hook.html#defvar_*eh-funs*">*eh-funs*</a></p><p><a href="expression-hook.html#defvar_*eh-macs*">*eh-macs*</a></p><p><a href="expression-hook.html#defvar_*eh-sym-macs*">*eh-sym-macs*</a></p><p><a href="expression-hook.html#defvar_*eh-vars*">*eh-vars*</a></p><p><a href="expression-hook.html#defparameter_*expression-hook*">*expression-hook*</a></p><p><a href="expression-hook.html#defvar_*in-funs*">*in-funs*</a></p><h3>Function</h3><p><a href="expression-hook.html#defmacro_def-base-macro">def-base-macro</a></p><p><a href="expression-hook.html#defun_expand">expand</a></p><p><a href="expression-hook.html#defun_expand-hook">expand-hook</a></p><h2>Internal</h2><h3>Variables</h3><p><a href="expression-hook.html#defparameter_*ignore-packages*">*ignore-packages*</a></p><h3>Function</h3><p><a href="expression-hook.html#defun_base-fun">base-fun</a></p><p><a href="expression-hook.html#defun_e-list">e-list</a></p><p><a href="expression-hook.html#defun_expand-funs">expand-funs</a></p><p><a href="expression-hook.html#defun_function-name-p">function-name-p</a></p></td><td><p><h1>package EXPRESSION-HOOK</h1><p>Macroexpands code purely by itself. *expression-hook* continues it,
 and must call further expand-hook.
Used for gathering information on code autodoc via expression-scan.</p><hr /></p><h1>External</h1><h2>Variables</h2><h3><a name="defvar_*base-macros*"><a href="expression-hook.html#defvar_*base-macros*">defvar *base-macros*</a></a></h3><p>Base macros, but can also override regular macros.(That case you have to
 call expand again to continue.)
 TODO possible warnings if you do</p><p>Initial value (MAKE-HASH-TABLE)</p><h3><a name="defvar_*eh-funs*"><a href="expression-hook.html#defvar_*eh-funs*">defvar *eh-funs*</a></a></h3><p>List of functions that are from local flet, labels.</p><p>Initial value (LIST)</p><h3><a name="defvar_*eh-macs*"><a href="expression-hook.html#defvar_*eh-macs*">defvar *eh-macs*</a></a></h3><p>List of functions that are from local macrolet.</p><p>Initial value (LIST)</p><h3><a name="defvar_*eh-sym-macs*"><a href="expression-hook.html#defvar_*eh-sym-macs*">defvar *eh-sym-macs*</a></a></h3><p>List of symbol-macros.</p><p>Initial value (LIST)</p><h3><a name="defvar_*eh-vars*"><a href="expression-hook.html#defvar_*eh-vars*">defvar *eh-vars*</a></a></h3><p>List of variables that are from local let, let*.</p><p>Initial value (LIST)</p><h3><a name="defparameter_*expression-hook*"><a href="expression-hook.html#defparameter_*expression-hook*">defparameter *expression-hook*</a></a></h3><p>Hook that reads every s-expression macroexpand-dammit encounters.</p><p>Initial value 'EXPAND-HOOK</p><h3><a name="defvar_*in-funs*"><a href="expression-hook.html#defvar_*in-funs*">defvar *in-funs*</a></a></h3><p>Current functions. (Can be in multiple; like a defun and then a flet.</p><p>Initial value (LIST)</p><h2>Function</h2><b><h2><a name="defmacro_def-base-macro"><a href="expression-hook.html#defmacro_def-base-macro">defmacro def-base-macro</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;name (&rest args ) &body body </p>Adds a base macro.<b><h2><a name="defun_expand"><a href="expression-hook.html#defun_expand">defun expand</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;form </p>Macroexpands form according to the macros and the 'base macros'
 (which are intended to 'replace' special operators.)<b><h2><a name="defun_expand-hook"><a href="expression-hook.html#defun_expand-hook">defun expand-hook</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;form &key as-macrohook </p>The hook version of expand; expand works, only expanding, with this
 expression hook. You have to call this with your expression hook and use
 lexical binds to pass information down.<h3>Used macros and functions</h3><h4>From package GENERIC</h4><a href="expression-hook.html#defmacro_with-gensyms">with-gensyms</a>, <a href="expression-hook.html#defmacro_when-let">when-let</a>, <a href="expression-hook.html#defmacro_if-use">if-use</a>, <a href="expression-hook.html#defmacro_if-let">if-let</a><h4>From package EXPRESSION-HOOK</h4><a href="expression-hook.html#defun_expand-hook">expand-hook</a>, <a href="expression-hook.html#defun_expand">expand</a><h4>From package DENEST</h4><a href="expression-hook.html#defmacro_denest-raw">denest-raw</a>, <a href="expression-hook.html#defmacro_denest">denest</a><h1>Internal</h1><h2>Variables</h2><h3><a name="defparameter_*ignore-packages*"><a href="expression-hook.html#defparameter_*ignore-packages*">defparameter *ignore-packages*</a></a></h3><p>Packages, when encountered, it stops scanning.</p><p>Initial value (LIST SB-IMPL SB-INT SB-C SB-PCL SB-KERNEL)</p><h2>Function</h2><b><h2><a name="defun_base-fun"><a href="expression-hook.html#defun_base-fun">defun base-fun</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;name args body &key flat-arg </p>Base treatment of function.
TODO better argument treatment, long and bad, currently.<b><h2><a name="defun_e-list"><a href="expression-hook.html#defun_e-list">defun e-list</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;body </p>Short for (mapcar #'expand body)<b><h2><a name="defun_expand-funs"><a href="expression-hook.html#defun_expand-funs">defun expand-funs</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;funs &key flat-arg </p>Expands flet/macrolet input and returns the names in the second value.<h3>Used macros and functions</h3><h4>From package EXPRESSION-HOOK</h4>col-result, col-names<h4>From package DENEST</h4><a href="expression-hook.html#defmacro_use-denest-macro">use-denest-macro</a>, <a href="expression-hook.html#defmacro_return-accumulate*">return-accumulate*</a>, <a href="expression-hook.html#defmacro_return-accumulate">return-accumulate</a>, <a href="expression-hook.html#defmacro_denest-ret">denest-ret</a>, <a href="expression-hook.html#defmacro_denest-raw">denest-raw</a>, <a href="expression-hook.html#defmacro_denest">denest</a>, <a href="expression-hook.html#defmacro_collecting">collecting</a><b><h2><a name="defun_function-name-p"><a href="expression-hook.html#defun_function-name-p">defun function-name-p</a></a></h2></b><p>&nbsp;&nbsp;&nbsp;name </p></td></tr></tbody></table></body></html>